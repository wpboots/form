/**
 * Form - javascript
 *
 * @package Boots
 * @subpackage Form
 * @version 1.0.1
 * @license GPLv2
 *
 * Boots - The missing WordPress framework. http://wpboots.com
 *
 * Copyright (C) <2014>  <M. Kamal Khan>
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * as published by the Free Software Foundation; either version 2
 * of the License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
 *
 */
 !function(t){"use strict";var e={uploader_path:boots_form.uploader_path,action_image_fetch:boots_form.action_image_fetch,nonce_image_fetch:boots_form.nonce_image_fetch,init:function(e,i){var o=this;o.elem=i,o.$elem=t(i),o.options=t.extend({},t.fn.BootsForm.options,e),o.iris(),o.select2(),o.switchery(),o.nouislider(),o.image_handler(),o.tagger(),o.uploader(),o.$elem.trigger("boots-form:init",o)},iris:function(){var e=this;t(".iris",e.$elem).wpColorPicker({target:!0})},select2:function(){var e=this;t("select",e.$elem).select2({width:"element"})},switchery:function(){var e=this;t('input[type="checkbox"]',e.$elem).each(function(e,i){new Switchery(i,{color:t(this).data("color")||"#64bd63",secondaryColor:t(this).data("secondarycolor")||"#d7d7d7",jackColor:t(this).data("jackcolor")||"#fff",className:t(this).data("classname")||"switchery",disabled:t(this).data("disabled")||!1,disabledOpacity:t(this).data("disabledopacity")||.5,speed:t(this).data("speed")||"0.5s",size:t(this).data("size")||"small"})})},nouislider:function(){var e,i,o=this;t(".boots-form-nouislider",o.$elem).each(function(){e=t(".boots-form-nouislider-range",t(this)),i=t("input",t(this)),e.noUiSlider({start:i.data("start")||i.data("min")||0,range:{min:i.data("min")||0,max:i.data("max")||100},serialization:{format:{decimals:i.data("decimals")||0},lower:[t.Link({target:i})]}})})},tagger:function(){var e=this;t(".boots-form-tagger",e.$elem).select2({tags:"",width:"100%"})},uploader:function(){var e=this;Dropzone.autoDiscover=!1,t(".boots-form-uploader",e.$elem).each(function(){var i=t(this);i.css("height","auto","important");var o=new Dropzone(i[0],{url:e.uploader_path,addRemoveLinks:!0,thumbnailWidth:80,thumbnailHeight:80,dictDefaultMessage:"Drop files",dictRemoveFile:"X"});o.on("addedfile",function(){i.on("mouseover",function(){t(".dz-remove",t(this)).show()}).on("mouseout",function(){t(".dz-remove",t(this)).hide()}),i.AwesomeGrid({rowSpacing:10,colSpacing:10,initSpacing:0,responsive:!0,fadeIn:!0,hiddenClass:!1,item:".dz-preview",columns:{defaults:7,700:5,350:3,100:1},context:"self",onReady:function(e){e.stop(!1,!1),t(".dz-message",i).css("position","absolute"),i.css("height",i.height()+e.height()-20,"important")}})})})},image_handler:function(){var e=this;t(".boots-form-img-upload input").each(function(){var i=t(this).parent();""!=t(this).val().trim()&&e.fetch_image(i,t(this).val(),i.width(),73)}),t(".boots-form-img-upload button",e.$elem).BootsMedia("click",{multiple:!1,done:function(i,o){var n=o.parent();t("input",n).val(i.url),t("a.boots-form-img-cross",n).show(),o.hide(),n.css({height:"73px",padding:"0"}),e.fetch_image(n,i.id,n.width(),73)}}),t(".boots-form-img-upload a.boots-form-img-cross",e.$elem).on("click",function(){var e=t(this),i=e.parent(),o=t("button",i),n=t("input",i),a=t("img",i);return n.val(""),a.slideUp("fast",function(){i.css({height:"auto",padding:"21px"}),a.remove(),e.fadeOut(),o.slideDown("fast")}),!1})},fetch_image:function(e,i,o,n){var a=this;t.BootsAjax({data:{id:i,width:parseInt(o),height:parseInt(n)},action:a.action_image_fetch,nonce:a.nonce_image_fetch,done:function(t){t.error||e.append('<img src="'+t.url+'" style="max-width:100%;height:auto;" />')}})},showElement:function(e){e.slideDown("fast",function(){t(this).trigger(t.Event("resize"))})},hideElement:function(e){e.slideUp("fast",function(){t(this).trigger(t.Event("resize"))})},conditionalElement:function(e,i,o){for(var n,a,s=this,r=0;r<i.length;r++)if(n=t('[name="'+i[r].el+'"]'),o||n.on("keyup change",function(){s.conditionalElement(e,i,!0)}),["checkbox","radio"].indexOf(n.prop("type"))>-1){if(a=t('[name="'+i[r].el+'"]:checked'),a.val()!=i[r].val)return this.hideElement(e)}else if(n.val()!=i[r].val)return this.hideElement(e);return this.showElement(e)}};t.fn.BootsForm=function(t){return this.each(function(){var i=function(){function t(){}return t.prototype=e,new t}();i.init(t,this)})},t.fn.BootsForm.options={}}(jQuery),jQuery(document).ready(function(t){t(".boots-form").BootsForm({})});
